get:
  tags:
    - evaluation
  operationId: getEvaluationBatch
  description: Salo flagr-response's lambda GET-handler drop-in replacement
  parameters:
    - in: header
      name: If-None-Match
      type: string
      required: false
      description: ETag value from previous response for cache validation
    - in: query
      name: entityId
      type: string
      required: false
      default: ""
    - in: query
      name: flagId
      type: array
      collectionFormat: multi
      required: false
      items:
        type: integer
        format: int64
    - in: query
      name: flagKey
      type: array
      collectionFormat: multi
      required: false
      items:
        type: string
    - in: query
      name: flagTag
      type: array
      collectionFormat: multi
      required: false
      items:
        type: string
    - in: query
      name: flagTagQuery
      type: string
      enum:
        - ANY
        - ALL
      required: false
      default: ALL
  responses:
    200:
      description: evaluation batch result
      schema:
        $ref: "#/definitions/evaluationBatchResponse"
      headers:
        ETag:
          type: string
          description: Cache version identifier for the flag evaluation cache
    304:
      description: Not Modified - flag configuration has not changed since the provided ETag
    default:
      description: generic error response
      schema:
        $ref: "#/definitions/error"
post:
  tags:
    - evaluation
  operationId: postEvaluationBatch
  parameters:
    - in: header
      name: If-None-Match
      type: string
      required: false
      description: ETag value from previous response for cache validation
    - in: body
      name: body
      description: evaluation batch request
      required: true
      schema:
        $ref: "#/definitions/evaluationBatchRequest"
  responses:
    200:
      description: evaluation batch result
      schema:
        $ref: "#/definitions/evaluationBatchResponse"
      headers:
        ETag:
          type: string
          description: Cache version identifier for the flag evaluation cache
    304:
      description: Not Modified - flag configuration has not changed since the provided ETag
    default:
      description: generic error response
      schema:
        $ref: "#/definitions/error"
