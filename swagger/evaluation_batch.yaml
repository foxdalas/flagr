get:
  tags:
    - evaluation
  operationId: getEvaluationBatch
  description: Salo flagr-response's lambda GET-handler drop-in replacement
  parameters:
    - in: query
      name: entityId
      type: string
      required: false
      default: ""
    - in: query
      name: flagId
      type: array
      collectionFormat: multi
      required: false
      items:
        type: integer
        format: int64
    - in: query
      name: flagKey
      type: array
      collectionFormat: multi
      required: false
      items:
        type: string
    - in: query
      name: flagTag
      type: array
      collectionFormat: multi
      required: false
      items:
        type: string
    - in: query
      name: flagTagQuery
      type: string
      enum:
        - ANY
        - ALL
      required: false
      default: ALL
    - in: header
      name: If-None-Match
      type: string
      required: false
      default: "ETag value for conditional GET evaluation batch request"
  responses:
    200:
      description: evaluation batch result
      headers:
        Cache-Control:
          type: string
        ETag:
          description: order-independent evaluation results' checksum over flag ID, segment ID, variant ID and variant attachment.
          type: string
      schema:
        $ref: "#/definitions/evaluationBatchResponse"
    304:
      description: evaluation batch result was not modified marker
      headers:
        Cache-Control:
          type: string
        ETag:
          description: order-independent evaluation results' checksum over flag ID, segment ID, variant ID and variant attachment.
          type: string
    default:
      description: generic error response
      schema:
        $ref: "#/definitions/error"
post:
  tags:
    - evaluation
  operationId: postEvaluationBatch
  parameters:
    - in: body
      name: body
      description: evaluation batch request
      required: true
      schema:
        $ref: "#/definitions/evaluationBatchRequest"
  responses:
    200:
      description: evaluation batch result
      schema:
        $ref: "#/definitions/evaluationBatchResponse"
    default:
      description: generic error response
      schema:
        $ref: "#/definitions/error"
